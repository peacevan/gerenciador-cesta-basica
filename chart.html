<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gráficos</title>

    <!-- Materialize CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/styles.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
</head>

<body>
    <div class="navbar-fixed">
        <nav>
            <div class="nav-wrapper">
                <a href="#" class="brand-logo">Smart List</a>
                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    <li><a href="chart.html">Gráficos</a></li>
                </ul>
            </div>
        </nav>
    </div>

    <div class="container">
        <div class="section" style="text-align: center;">
            <h4 class="center-align">Gráfico Anual</h4>
            <div style="display: flex; justify-content: center; align-items: center; width: 100%; height: 80vh;">
                <canvas id="graficoAnual" style="max-width: 100%; max-height: 100%;"></canvas>
            </div>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="row" style="width: 100%; margin: 0;">
            <div class="col s3 center-align">
                <a href="index.html" class="nav-item">
                    <i class="material-icons">home</i>
                </a>
            </div>
            <div class="col s3 center-align">
                <a href="cart.html" class="nav-item">
                    <i class="material-icons">shopping_cart</i>
                </a>
            </div>
            <div class="col s3 center-align">
                <a href="history.html" class="nav-item">
                    <i class="material-icons">history</i>
                </a>
            </div>
            <div class="col s3 center-align">
                <a href="chart.html" class="nav-item active">
                    <i class="material-icons">bar_chart</i>
                </a>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const ctx = document.getElementById('graficoAnual').getContext('2d');
            const graficoAnual = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
                    datasets: [
                        {
                            label: 'Quantidade de Itens',
                            data: [40, 50, 55, 45, 46, 56, 60, 65, 60, 55, 57, 58],
                            backgroundColor: 'rgba(54, 162, 235, 0.5)',
                            borderColor: 'rgba(54, 162, 235, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'Valor Total (R$)',
                            data: [1500, 1700, 1100, 1400, 1200, 1300, 1100, 1200, 1450, 1350, 1400, 1500],
                            backgroundColor: 'rgba(255, 99, 132, 0.5)',
                            borderColor: 'rgba(255, 99, 132, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                padding: 20 // Aumenta o espaçamento entre a legenda e o gráfico
                            }
                        },
                        title: {
                            display: true,
                            text: 'Resumo Anual de Compras'
                        },
                        tooltip: {
                            enabled: true
                        },
                        datalabels: {
                            anchor: 'end',
                            align: 'top',
                            formatter: function(value) {
                                return value;
                            },
                            font: {
                                weight: 'bold'
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                },
                plugins: [ChartDataLabels]
            });
        });
    </script>
</body>

</html>