<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart List - Carrinho</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="assets/styles.css" rel="stylesheet">
    <style>
        .page-content {
            padding-bottom: 60px;
        }
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            box-shadow: 0 -2px 5px rgba(0,0,0,0.1);
            z-index: 1000;
            padding: 10px 0;
        }
        .nav-item {
            text-align: center;
            color: #666;
            text-decoration: none;
        }
        .nav-item.active {
            color: #26a69a;
        }
        .nav-item i {
            display: block;
            font-size: 24px;
            margin-bottom: 4px;
        }
        .nav-item span {
            font-size: 12px;
        }
    </style>
</head>

<body>
    <div class="page-content">
        <div class="navbar-fixed">
            <nav>
                <div class="nav-wrapper">
                    <a href="#" class="brand-logo">Smart List</a>
                    <ul id="nav-mobile" class="right hide-on-med-and-down">
                        <li><a href="#cart">Carrinho</a></li>
                    </ul>
                </div>
            </nav>
        </div>

        <div id="lista-compras"></div>

 

        <!-- Rodapé Fixo -->
        <div class="fixed-footer">
            <div class="row">
                <div class="col s6">
                    <span class="total-items">Total de Itens: <span id="total-itens">0</span></span>
                </div>
                <div class="col s6">
                    <span class="total-price">Valor Total: <span id="total-real">R$ 0,00</span></span>
                </div>
            </div>
            <div class="row">
                <div class="col s6">
                    <button class="waves-effect waves-light btn blue" onclick="finalizarCompraMes()">
                        <i class="material-icons left">check_circle</i>Finalizar Compra
                    </button>
                </div>
                <div class="col s6 right-align">
                    <button class="modal-trigger btn waves-effect waves-light btn-floating" data-target="modal1" id="bt-add"> 
                        <i class="material-icons">add</i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Modal Bottom Sheet -->
        <div id="modal1" class="modal modal-fixed-footer">
            <div class="modal-content">
                <div class="row">
                    <div class="col s12 right-align">
                        <a href="#!" class="modal-close waves-effect waves-red btn-floating btn-small" onclick="closeModal()">
                            <i class="material-icons">close</i>
                        </a>
                    </div>
                </div>
                <form class="col s12">
                    <input type="hidden" id="id" name="id">
                    <div class="row">
                        <div class="input-field col s12">
                            <i class="material-icons prefix">shopping_cart</i>
                            <input id="new-item" type="text" class="validate">
                            <label for="new-item">Nome do Item</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s6">
                            <i class="material-icons prefix">attach_money</i>
                            <input id="new-price" type="text" class="validate currency">
                            <label for="new-price">Preço</label>
                        </div>
                        <div class="input-field col s6">
                            <i class="material-icons prefix">format_list_numbered</i>
                            <input id="new-quantity" type="number" class="validate" min="1" value="1">
                            <label for="new-quantity">Quantidade</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <i class="material-icons prefix">straighten</i>
                            <select id="new-unity">
                                <option value="" disabled selected>Selecione a unidade</option>
                                <option value="KG">Quilograma (KG)</option>
                                <option value="L">Litro (L)</option>
                                <option value="UN">Unidade (UN)</option>
                                <option value="DZ">Dúzia (DZ)</option>
                                <option value="PC">Pacote (PC)</option>
                            </select>
                            <label>Unidade de Medida</label>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="bt-add-item" class="modal-close waves-effect waves-green btn-flat green-text" onclick="adicionarItemModal()" disabled>
                    <i class="material-icons left">check</i>Salvar
                </button>
                <a href="#!" class="modal-close waves-effect waves-red btn-flat red-text" onclick="closeModal()">
                    <i class="material-icons left">close</i>Cancelar
                </a>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="row" style="width: 100%; margin: 0;">
            <div class="col s4 center-align">
                <a href="index.html" class="nav-item">
                    <i class="material-icons">home</i>
                </a>
            </div>
            <div class="col s4 center-align">
                <a href="#cart" class="nav-item active">
                    <i class="material-icons">shopping_cart</i>
                </a>
            </div>
            <div class="col s4 center-align">
                <a href="history.html" class="nav-item">
                    <i class="material-icons">history</i>
                </a>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn-script.com/ajax/libs/jquery/3.7.1/jquery.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/plentz/jquery-maskmoney@master/dist/jquery.maskMoney.min.js"></script>
    <script src="https://unpkg.com/imask"></script>
    <script src="https://unpkg.com/dexie@3.2.4/dist/dexie.min.js"></script>
    <script src="db/db.js"></script>
    <script src="assets/script.js"></script>
    <script>

        
$(function () {
  $(".currency").maskMoney({
    prefix: "R$ ",
    thousands: ".",
    decimal: ",",
  });
  $(".currency").maskMoney("mask");
});
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Materialize components
            //M.AutoInit();
                // Fix dropdown initialization
            var dropdowns = document.querySelectorAll('.dropdown-trigger');
            var dropdownOptions = {
                constrainWidth: false,
                coverTrigger: false
            };
            M.Dropdown.init(dropdowns, dropdownOptions);
            
            atualizarLista();
               
            var dropdowns = document.querySelectorAll('.dropdown-trigger');
            var dropdownOptions = {
                constrainWidth: false,
                coverTrigger: false
            };
            M.Dropdown.init(dropdowns, dropdownOptions);
        });

        function initializeDropdowns() {
            var dropdowns = document.querySelectorAll('.dropdown-trigger');
            var dropdownOptions = {
                constrainWidth: false,
                coverTrigger: false,
                alignment: 'right',
                hover: false
            };
            M.Dropdown.init(dropdowns, dropdownOptions);
        }
    </script>
</body>

</html> 
</html> 